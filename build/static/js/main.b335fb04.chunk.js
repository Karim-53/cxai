(this["webpackJsonpreact-sqljs-demo"]=this["webpackJsonpreact-sqljs-demo"]||[]).push([[0],{124:function(e,t,n){},130:function(e,t){},132:function(e,t){},143:function(e,t){},145:function(e,t){},172:function(e,t){},174:function(e,t){},175:function(e,t){},180:function(e,t){},182:function(e,t){},188:function(e,t){},190:function(e,t){},209:function(e,t){},221:function(e,t){},224:function(e,t){},233:function(e,t,n){"use strict";n.r(t);var r=n(8),o=n.n(r),c=n(113),a=n.n(c),s=n(114),i=n(22),l=n(58),u=n.n(l),p=(n(124),n(115)),f=n.n(p),b=n(116),j=n.n(b),d=n.p+"static/media/database.4723bfa2.bin",x=n(117),m=n(118),h=n.n(m),g=n(2);function O(){var e=Object(r.useState)(null),t=Object(i.a)(e,2),n=t[0],o=t[1],c=Object(r.useState)(null),a=Object(i.a)(c,2),l=a[0],p=a[1];return Object(r.useEffect)(Object(s.a)(u.a.mark((function e(){var t,n,r,c,a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=f()({locateFile:function(){return x.a}}),n=fetch(d).then((function(e){return e.arrayBuffer()})).catch((function(e){console.log("File not found:"),console.log(e)})),e.next=5,Promise.all([t,n]);case 5:r=e.sent,c=Object(i.a)(r,2),a=c[0],s=c[1],console.log("sql ok."),o(new a.Database(new Uint8Array(s))),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.log("sql error:"),p(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,13]])}))),[]),l?Object(g.jsx)("pre",{children:l.toString()}):n?Object(g.jsx)(S,{db:n}):Object(g.jsx)("pre",{children:"Loading..."})}window.location.href.includes("localhost")&&console.log("localhost");var v=function(e,t){return e.map((function(e){return e[t]}))};function _(e){console.log("plotly_click:"),console.log(e),console.log(e.points);e.points[0].text}function y(e){try{"SELECT explainer, AVG(score)*100.0 AS percentage, AVG(time) AS time_per_test, count(score) AS eligible_points\n    FROM cross_tab\n    GROUP BY explainer;",setResults(db.exec("SELECT explainer, AVG(score)*100.0 AS percentage, AVG(time) AS time_per_test, count(score) AS eligible_points\n    FROM cross_tab\n    GROUP BY explainer;")),setError(null)}catch(t){setError(t),setResults([])}}function S(e){e.db;for(var t,n=Object(r.useState)(null),o=Object(i.a)(n,2),c=o[0],a=(o[1],Object(r.useState)([])),s=Object(i.a)(a,2),l=s[0],u=(s[1],function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=n;return t}((t=0==l.length?{columns:["index","time","score","eligible_points","percentage","eligible_tests","time_per_test"],values:[["baseline_random",1.0000317096710205,3.1298593441845237,18,.173881074676918,12,.08333597580591838],["saabas",.10822415351867676,6.035704433917999,11,.5487004030834545,6,.01803735891977946],["tree_shap",.08579039573669434,8.256456856690342,11,.7505869869718492,6,.014298399289449057],["archipelago",1.1139461994171143,4,5,.8,5,.22278923988342286],["shapley_taylor_interaction",9.025943517684937,3.2907431753151344,5,.6581486350630269,5,1.8051887035369873],["shap_interaction",169.72328877449036,1.0155440414507773,5,.20310880829015546,5,33.944657754898074],["anova",49.0090274810791,1.133826538897581,5,.2267653077795162,5,9.80180549621582],["sage",103.58940887451172,5.019767485198745,7,.7171096407426779,7,14.798486982073102],["lime",825.8491969108582,10.661781883892203,13,.8201370679917079,7,117.97845670155117],["kernel_shap",50.426323652267456,10.133078100329183,11,.9211889182117439,6,8.404387275377909],["maple",966.3937382698059,9.22704081632653,13,.7097723704866562,7,138.05624832425798]]}:l[0]).columns)),p=v(t.values,u.time_per_test),f=v(t.values,u.percentage),b=v(t.values,u.eligible_points),d=v(t.values,u.index),x=[],m=0;m<p.length;m++)x.push([f[m],p[m]]);var O=j.a.getParetoFrontier(x,{optimize:"bottomRight"}),S=[{x:p,y:f,mode:"markers+text",type:"scatter",name:"Explainers",text:d,textposition:"top center",textfont:{family:"Raleway, sans-serif"},marker:{size:b}},{x:v(O,1),y:v(O,0),mode:"lines",type:"scatter",name:"Pareto front",textfont:{family:"Times New Roman"},textposition:"bottom center"}];return Object(g.jsxs)("div",{className:"App",children:[Object(g.jsx)(h.a,{data:S,layout:{xaxis:{type:"log",autorange:!0,title:{text:"Average Time per test [Seconds] \u2193"}},yaxis:{title:{text:"Score [%] \u2191"}},legend:{y:1,yref:"paper",font:{family:"Arial, sans-serif"}},title:"Global overview of the explainers' performance"},onClick:_,divId:"fig"}),Object(g.jsx)("h1",{children:"Filters"}),Object(g.jsx)("textarea",{onChange:function(e){return y(e.target.value)},placeholder:"Enter some SQL. No inspiration ? Try \u201cselect sqlite_version()\u201d"}),Object(g.jsx)("pre",{className:"error",children:(c||"").toString()}),Object(g.jsx)("pre",{children:l.map((function(e,t){var n=e.columns,r=e.values;return Object(g.jsx)(A,{columns:n,values:r},t)}))}),Object(g.jsx)("h1",{children:"Click on an explainer for more details"})]})}function A(e){var t=e.columns,n=e.values;return Object(g.jsxs)("table",{children:[Object(g.jsx)("thead",{children:Object(g.jsx)("tr",{children:t.map((function(e,t){return Object(g.jsx)("td",{children:e},t)}))})}),Object(g.jsx)("tbody",{children:n.map((function(e,t){return Object(g.jsx)("tr",{children:e.map((function(e,t){return Object(g.jsx)("td",{children:e},t)}))},t)}))})]})}var k=document.getElementById("root");a.a.render(Object(g.jsx)(o.a.StrictMode,{children:Object(g.jsx)(O,{})}),k)}},[[233,1,2]]]);
//# sourceMappingURL=main.b335fb04.chunk.js.map