(this["webpackJsonpreact-sqljs-demo"]=this["webpackJsonpreact-sqljs-demo"]||[]).push([[0],{124:function(e,t,n){},130:function(e,t){},132:function(e,t){},143:function(e,t){},145:function(e,t){},172:function(e,t){},174:function(e,t){},175:function(e,t){},180:function(e,t){},182:function(e,t){},188:function(e,t){},190:function(e,t){},209:function(e,t){},221:function(e,t){},224:function(e,t){},233:function(e,t,n){"use strict";n.r(t);var r=n(8),o=n.n(r),c=n(113),a=n.n(c),s=n(114),i=n(22),l=n(58),u=n.n(l),f=(n(124),n(115)),j=n.n(f),p=n(116),b=n.n(p),m=n(117),d=n(118),h=n.n(d),x=n(2);function g(){var e=Object(r.useState)(null),t=Object(i.a)(e,2),n=t[0],o=t[1],c=Object(r.useState)(null),a=Object(i.a)(c,2),l=a[0],f=a[1];return Object(r.useEffect)(Object(s.a)(u.a.mark((function e(){var t,n,r,c,a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t=j()({locateFile:function(){return m.a}}),n=fetch("./test").then((function(e){return e.arrayBuffer()})).catch((function(e){console.log("File not found:"),console.log(e)})),e.next=5,Promise.all([t,n]);case 5:r=e.sent,c=Object(i.a)(r,2),a=c[0],s=c[1],console.log("ok."),o(new a.Database(new Uint8Array(s))),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(0),console.log("big error"),f(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,13]])}))),[]),l?Object(x.jsx)("pre",{children:l.toString()}):n?Object(x.jsx)(O,{db:n}):Object(x.jsx)("pre",{children:"Loading..."})}window.location.href.includes("localhost")&&console.log("localhost");var v=function(e,t){return e.map((function(e){return e[t]}))};function O(e){var t,n=e.db,o=Object(r.useState)(null),c=Object(i.a)(o,2),a=c[0],s=c[1],l=Object(r.useState)([]),u=Object(i.a)(l,2),f=u[0],j=u[1];console.log(f),0==f.length?t={columns:["index","time","score","eligible_points","percentage","eligible_tests","time_per_test"],values:[["baseline_random",1.0000317096710205,3.1298593441845237,18,.173881074676918,12,.08333597580591838],["saabas",.10822415351867676,6.035704433917999,11,.5487004030834545,6,.01803735891977946],["tree_shap",.08579039573669434,8.256456856690342,11,.7505869869718492,6,.014298399289449057],["archipelago",1.1139461994171143,4,5,.8,5,.22278923988342286],["shapley_taylor_interaction",9.025943517684937,3.2907431753151344,5,.6581486350630269,5,1.8051887035369873],["shap_interaction",169.72328877449036,1.0155440414507773,5,.20310880829015546,5,33.944657754898074],["anova",49.0090274810791,1.133826538897581,5,.2267653077795162,5,9.80180549621582],["sage",103.58940887451172,5.019767485198745,7,.7171096407426779,7,14.798486982073102],["lime",825.8491969108582,10.661781883892203,13,.8201370679917079,7,117.97845670155117],["kernel_shap",50.426323652267456,10.133078100329183,11,.9211889182117439,6,8.404387275377909],["maple",966.3937382698059,9.22704081632653,13,.7097723704866562,7,138.05624832425798]]}:(console.log(f[0]),t=f[0]);var p=function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=n;return t}(t.columns),m=v(t.values,p.time_per_test),d=v(t.values,p.percentage),g=v(t.values,p.eligible_points),O=v(t.values,p.index),_=[];console.log(m.length);for(var w=0;w<m.length;w++)_.push([d[w],m[w]]);console.log(_);var S=b.a.getParetoFrontier(_,{optimize:"bottomRight"}),k=[{x:m,y:d,mode:"markers+text",type:"scatter",name:"Explainers",text:O,textposition:"top center",textfont:{family:"Raleway, sans-serif"},marker:{size:g}},{x:v(S,1),y:v(S,0),mode:"lines",type:"scatter",name:"Pareto front",textfont:{family:"Times New Roman"},textposition:"bottom center"}];return Object(x.jsxs)("div",{className:"App",children:[Object(x.jsx)("h1",{children:"React SQL interpreter"}),Object(x.jsx)("textarea",{onChange:function(e){return function(e){try{j(n.exec("select * From summary")),s(null)}catch(t){s(t),j([])}}(e.target.value)},placeholder:"Enter some SQL. No inspiration ? Try \u201cselect sqlite_version()\u201d"}),Object(x.jsx)("pre",{className:"error",children:(a||"").toString()}),Object(x.jsx)("pre",{children:f.map((function(e,t){var n=e.columns,r=e.values;return Object(x.jsx)(y,{columns:n,values:r},t)}))}),Object(x.jsx)(h.a,{data:k,layout:{xaxis:{type:"log",autorange:!0,title:{text:"Average Time per test [Seconds] \u2193"}},yaxis:{title:{text:"Score [%] \u2191"}},legend:{y:1,yref:"paper",font:{family:"Arial, sans-serif"}},title:"Global overview of the explainers' performance"},divId:"fig"})]})}function y(e){var t=e.columns,n=e.values;return Object(x.jsxs)("table",{children:[Object(x.jsx)("thead",{children:Object(x.jsx)("tr",{children:t.map((function(e,t){return Object(x.jsx)("td",{children:e},t)}))})}),Object(x.jsx)("tbody",{children:n.map((function(e,t){return Object(x.jsx)("tr",{children:e.map((function(e,t){return Object(x.jsx)("td",{children:e},t)}))},t)}))})]})}var _=document.getElementById("root");a.a.render(Object(x.jsx)(o.a.StrictMode,{children:Object(x.jsx)(g,{})}),_)}},[[233,1,2]]]);
//# sourceMappingURL=main.ac79cf6e.chunk.js.map